<div class='wrapper'>
  <%= render(:partial => 'navbar', :locals => {:is_logged_in => true}) %>
  <div class='container'>
    <p id="notice"><%= notice %></p>

    <p>
      <strong>Title:</strong>
      <%= @post.title %>
    </p>
    <p>
      <strong>Body:</strong>
      <%= @post.body %>
    </p>
    <p>
      <strong>Likes:</strong>
      <%= @post.likes %>
    </p>
    <p>
      <strong>Liked by:</strong>
    </p>

    <% @likes = Like.where(post_id: @post.id) %>
    <% if (@likes != nil) %>
      <% @likes.each do |like| %>
        <% @member = Member.find(like.member_id) %>
        <%= @member.name %>
        <br> 
      <% end %>  
    <% end %>

    <%= link_to 'Edit', edit_post_path(@post) %> |
    <%= link_to 'Back', posts_path %> |

    <% if(Like.exists?(:member_id => 1, :post_id => @post.id)) %>
      <% @like = Like.find_by(member_id: 1, post_id: @post.id) %>
      <%= link_to("Un-like This Post", delete_like_path(@like, :post_id => @post.id, :member_id => 1), data: { confirm: 'Are you sure?' }) %>
    <% else %>
      <%= link_to("Like This Post", likes_path(:like => @like, :post_id => @post.id, :member_id => 1), method: :create) %>
    <% end %>

  </div>
</div>